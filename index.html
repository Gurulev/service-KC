<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сервис</title>
    <link rel="stylesheet" href="styles.css">
    
    <style>
    
    </style>
</head>
<body>
    <header>
        <h1>СЕРВИС</h1><h1 id="kc">Керхер-Центр "Виктория-авто"</h1> 
    </header>
    <ul id="menu">
        <li id ="add" class="elMenu">Добавить</li>
        <li id = "srchBtn" class="elMenu">Поиск</li>
    </ul>
    <br>
    <span class="tooltip" id="tooltip">Всплывающая подсказка</span>
    <div id="addItemContainer">
        <form id="addItem" action="update" method="POST" accept-charset="UTF-8" autocomplete="off">
            <input type="text" id="inputAddItem" name="" disabled><br>
            <input type="hidden" id="idOrderItem" name="id_order">
            <textarea name="comment" id="commentItem" rows="6" cols="25" disabled></textarea>
            <select id="jobItem" name="job" disabled>
                <option value="ремонт">Ремонт</option>
                <option value="гар.ремонт">Гар.ремонт</option>
            </select>
            <input type="checkbox" id="manInputItem" name="men" style="width: 1em;" disabled>
            <label id = "manLabelItem" for="manInputItem">Документы у менеджеров</label><br>
            <input id="submitAddItem" type="submit" value="Записать">
            <button id="closeAddItem">Отмена</button>
    </form>
    </div>
    <form id="formAdd" action="index" method="POST" accept-charset="UTF-8">
        <fieldset>
            <legend><b> Новая запись </b></legend>
            <input type="datetime" id="dateIn" name="dateIn" placeholder="Дата приема" pattern="[0-3]{1}[0-9]{1}[.][0-1]{1}[0-9]{1}[.][0-9]{4}" title="дд.мм.гггг" required>
            <input type="datetime" id="dateOut" name="dateOut" placeholder="Дата выдачи" pattern="[0-3]{1}[0-9]{1}[.][0-1]{1}[0-9]{1}[.][0-9]{4}" title="дд.мм.гггг">
            <select id="job" name="job" required>
                <option value="ремонт">Ремонт</option>
                <option value="гар.ремонт">Гар.ремонт</option>
            </select>
            <input type="text" id="comment" name="comment" placeholder="Комментарии...">
            <input type="tel" id="phone" name="phone" maxlength="10" placeholder="Телефон без 8" pattern="[9]{1}[0-9]{9}" title="9#########" required><br>
            <input type="text" id="device" name="device" placeholder="Аппарат" required>
            <input type="text" id="client" name="client" placeholder="Ф.И.О. клиента"required>
            <input type="checkbox" id="manInput" name="men" style="width: 1em;">
            <label id = "manLabel" for="manInput">Документы у менеджеров</label>
            <input type="datetime" id="docs" name="docs" placeholder="Документы" pattern="[0-3]{1}[0-9]{1}[.][0-1]{1}[0-9]{1}[.][0-9]{4}" title="дд.мм.гггг">
            <input type="datetime" id="ready" name="ready" placeholder="Готов" pattern="[0-3]{1}[0-9]{1}[.][0-1]{1}[0-9]{1}[.][0-9]{4}" title="дд.мм.гггг"><br>
            <input id="submitBtn" type="submit" value="Записать">
        </fieldset>
    </form>
    <input type="text" id="search" style="width: 25rem;" placeholder="Поиск по наряд-заказу, телефону и фамилии...">
        
    <table>
        <tbody id="ansServ"></tbody>
    </table>
   <!--
    <script>
        async function proba(){
            const response = await fetch("/hello");
            const responseText = await response.text();
            console.log(responseText);
        
        
        }
        async function proba2() {

            const response = await fetch("/sql");
            const responseText = await response.text();
            const datasql = JSON.parse(responseText);

            let table = "";
            for (let i = 0; i < datasql.length; i++) {
                table +=
                `<tr>
                    <td class="col1"> ${datasql[i].id_order}</td>
                    <td class="col2"> ${datasql[i].date_in}</td>
                    <td class="col3"> ${datasql[i].date_out}</td>
                    <td class="col4"> ${datasql[i].job}</td>
                    <td class="col5"> ${datasql[i].comment}</td>
                    <td class="col6"> ${datasql[i].phone}</td>
                    <td class="col7"> ${datasql[i].device}</td>
                    <td class="col8"> ${datasql[i].client}</td>
                    <td class="col9"> ${datasql[i].docs}</td>
                    <td class="col10"> ${datasql[i].ready}</td>
                </tr>`
            } 




            document.getElementById("ansServ").innerHTML = 
            `<tr>
                <th class="col1">Наряд</th>
                <th class="col2">Дата приемки</th>
                <th class="col3">Дата выдачи</th>
                <th class="col4">Работы</th>
                <th class="col5">Комментарии</th>
                <th class="col6">Телефон</th>
                <th class="col7">Аппарат</th>
                <th class="col8">Ф.И.О.</th>
                <th class="col9">Документы</th>
                <th class="col10">Аппарат</th>
            </tr>
            ${table}`;
            console.log (datasql.length);
            
        }



        const firstBtn = document.getElementById("first");
        firstBtn.addEventListener("click", proba);
        const secondBtn = document.getElementById("second");
        secondBtn.addEventListener("click", proba2);
     
    </script>
    -->

    <script src="scripts.js"></script>
</body>
</html>